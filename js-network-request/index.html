<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Get contacts</title>
    </head>
    <body>
        <button>Get Contacts</button>
        <div id="contacts">
            <!-- Simulacion de lo que hacen frameworks -->
            <!-- <div forEach(users)>user.name</div> -->
        </div>
        <script>
    const button = document.querySelector("body > button")
    const contactsDiv = document.getElementById("contacts");

    // Primera forma sin recargar la pagina como en php8

    // button.onclick = () => fetch('https://jsonplaceholder.typicode.com/users')
    // .then(r => r.json())
    // .then(users => {
    //     users.forEach(user => {
    //         const div = document.createElement('div');
    //         const text = document.createTextNode(user.name)

    //         div.appendChild(text);
    //         contactsDiv.appendChild(div);
    //     })
    // })


    button.onclick = () => fetch('https://jsonplaceholder.typicode.com/users')
    .then(r => r.json())
    .then(users => {
       contactsDiv.innerHTML=users.map(u => `<div>${u.name}</div>`).join('')
    })
</script>
    </body>
</html>